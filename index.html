<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ³¡ç››ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰ - ã‚ãªãŸã«ã´ã£ãŸã‚Šã®ä¸€æ¯ã‚’</title>
<style>
  :root {
    --primary: #1a3a5c;
    --accent: #c5963a;
    --accent-light: #f5e6c8;
    --bg: #faf8f5;
    --card-bg: #ffffff;
    --text: #2c2c2c;
    --text-light: #6b6b6b;
    --border: #e0ddd8;
    --shadow: 0 2px 12px rgba(0,0,0,0.08);
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'Hiragino Kaku Gothic ProN', 'Noto Sans JP', sans-serif;
    background: var(--bg);
    color: var(--text);
    line-height: 1.7;
  }

  /* ===== Header ===== */
  header {
    background: linear-gradient(135deg, var(--primary) 0%, #2a5a8c 100%);
    color: #fff;
    text-align: center;
    padding: 2.5rem 1rem 2rem;
  }
  header h1 {
    font-size: 1.8rem;
    letter-spacing: 0.1em;
    margin-bottom: 0.3rem;
  }
  header p {
    font-size: 0.9rem;
    opacity: 0.85;
  }

  /* ===== Navigation Tabs ===== */
  .tab-nav {
    display: flex;
    justify-content: center;
    gap: 0;
    background: #fff;
    border-bottom: 2px solid var(--border);
    position: sticky;
    top: 0;
    z-index: 100;
  }
  .tab-btn {
    flex: 1;
    max-width: 220px;
    padding: 1rem 0.5rem;
    border: none;
    background: transparent;
    font-size: 0.95rem;
    font-weight: 600;
    color: var(--text-light);
    cursor: pointer;
    transition: all 0.2s;
    border-bottom: 3px solid transparent;
  }
  .tab-btn.active {
    color: var(--accent);
    border-bottom-color: var(--accent);
  }
  .tab-btn:hover { color: var(--accent); }

  /* ===== Tab Content ===== */
  .tab-content { display: none; padding: 1.5rem 1rem 3rem; max-width: 680px; margin: 0 auto; }
  .tab-content.active { display: block; }

  /* ===== Section Titles ===== */
  .section-title {
    font-size: 1.1rem;
    font-weight: 700;
    margin-bottom: 1rem;
    padding-left: 0.8rem;
    border-left: 4px solid var(--accent);
  }

  /* ===== Taste Map ===== */
  .taste-map-container {
    position: relative;
    width: 100%;
    max-width: 500px;
    margin: 0 auto 2rem;
    aspect-ratio: 1;
  }
  .taste-map-svg {
    width: 100%;
    height: 100%;
  }
  .taste-quadrant {
    cursor: pointer;
    transition: opacity 0.2s;
  }
  .taste-quadrant:hover { opacity: 0.85; }
  .taste-quadrant.selected { stroke: var(--accent); stroke-width: 3; }

  .taste-axis-label {
    font-size: 12px;
    fill: var(--text-light);
    font-weight: 600;
    pointer-events: none;
  }
  .taste-quadrant-label {
    font-size: 13px;
    fill: #fff;
    font-weight: 700;
    pointer-events: none;
    text-anchor: middle;
  }

  /* ===== Drink Preference ===== */
  .drink-selector {
    display: flex;
    flex-wrap: wrap;
    gap: 0.6rem;
    margin-bottom: 2rem;
  }
  .drink-chip {
    padding: 0.5rem 1rem;
    border: 2px solid var(--border);
    border-radius: 2rem;
    font-size: 0.85rem;
    cursor: pointer;
    transition: all 0.2s;
    background: #fff;
  }
  .drink-chip:hover { border-color: var(--accent); }
  .drink-chip.selected {
    background: var(--accent);
    color: #fff;
    border-color: var(--accent);
  }

  /* ===== Food Category ===== */
  .food-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 0.8rem;
    margin-bottom: 2rem;
  }
  .food-card {
    background: var(--card-bg);
    border: 2px solid var(--border);
    border-radius: 12px;
    padding: 1rem 0.8rem;
    text-align: center;
    cursor: pointer;
    transition: all 0.2s;
  }
  .food-card:hover { border-color: var(--accent); transform: translateY(-2px); }
  .food-card.selected {
    border-color: var(--accent);
    background: var(--accent-light);
  }
  .food-card .emoji { font-size: 2rem; margin-bottom: 0.3rem; }
  .food-card .label { font-size: 0.85rem; font-weight: 600; }

  /* ===== Result Cards ===== */
  .results-area { margin-top: 1.5rem; }
  .result-card {
    background: var(--card-bg);
    border-radius: 12px;
    padding: 1.2rem 1.2rem;
    margin-bottom: 1rem;
    box-shadow: var(--shadow);
    border-left: 4px solid var(--accent);
  }
  .result-card h3 {
    font-size: 1.1rem;
    margin-bottom: 0.2rem;
    color: var(--primary);
  }
  .result-card .brewery {
    font-size: 0.8rem;
    color: var(--text-light);
    margin-bottom: 0.6rem;
  }
  .result-card .tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.4rem;
    margin-bottom: 0.6rem;
  }
  .tag {
    display: inline-block;
    padding: 0.15rem 0.6rem;
    border-radius: 1rem;
    font-size: 0.75rem;
    font-weight: 600;
  }
  .tag-degree { background: #e8f0fe; color: #1a56db; }
  .tag-type { background: #fef3c7; color: #92400e; }
  .tag-taste { background: #ecfdf5; color: #065f46; }
  .result-card .description {
    font-size: 0.88rem;
    color: var(--text-light);
    line-height: 1.6;
  }
  .result-card .pairing {
    margin-top: 0.6rem;
    padding-top: 0.6rem;
    border-top: 1px solid var(--border);
    font-size: 0.85rem;
  }
  .pairing-label {
    font-weight: 700;
    color: var(--accent);
    font-size: 0.8rem;
  }
  .how-to-drink {
    margin-top: 0.5rem;
    font-size: 0.82rem;
    color: var(--text-light);
  }
  .how-to-drink strong { color: var(--text); }

  /* ===== CTA Button ===== */
  .cta-btn {
    display: block;
    width: 100%;
    max-width: 320px;
    margin: 1.5rem auto 0;
    padding: 0.9rem;
    background: linear-gradient(135deg, var(--accent), #d4a84a);
    color: #fff;
    border: none;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    letter-spacing: 0.05em;
    transition: transform 0.15s, box-shadow 0.15s;
  }
  .cta-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 16px rgba(197,150,58,0.35);
  }
  .cta-btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
  }

  /* ===== Empty State ===== */
  .empty-state {
    text-align: center;
    padding: 2rem;
    color: var(--text-light);
    font-size: 0.9rem;
  }

  /* ===== Footer ===== */
  footer {
    text-align: center;
    padding: 1.5rem;
    font-size: 0.75rem;
    color: var(--text-light);
    border-top: 1px solid var(--border);
  }

  /* ===== Responsive ===== */
  @media (max-width: 480px) {
    header h1 { font-size: 1.4rem; }
    .food-grid { grid-template-columns: repeat(2, 1fr); }
  }
</style>
</head>
<body>

<header>
  <h1>æ³¡ç››ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰</h1>
  <p>ã‚ãªãŸã«ã´ã£ãŸã‚Šã®æ³¡ç››ã¨æ–™ç†ã®çµ„ã¿åˆã‚ã›ã‚’è¦‹ã¤ã‘ã‚ˆã†</p>
</header>

<nav class="tab-nav">
  <button class="tab-btn active" data-tab="taste">å¥½ã¿ã§æ¢ã™</button>
  <button class="tab-btn" data-tab="food">æ–™ç†ã§æ¢ã™</button>
</nav>


<!-- ===== Tab 2: æ–™ç†ã§æ¢ã™ ===== -->
<div id="tab-food" class="tab-content">
  <h2 class="section-title">å¥½ããªæ–™ç†ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚’é¸ã‚“ã§ãã ã•ã„</h2>
  <div class="food-grid" id="food-grid">
    <div class="food-card" data-food="nikomi">
      <div class="emoji">ğŸ–</div>
      <div class="label">ç…®è¾¼ã¿æ–™ç†</div>
    </div>
    <div class="food-card" data-food="agemono">
      <div class="emoji">ğŸ¤</div>
      <div class="label">æšã’ç‰©</div>
    </div>
    <div class="food-card" data-food="itamemono">
      <div class="emoji">ğŸ¥˜</div>
      <div class="label">ç‚’ã‚ç‰©</div>
    </div>
    <div class="food-card" data-food="nabe">
      <div class="emoji">â™¨ï¸</div>
      <div class="label">é‹æ–™ç†</div>
    </div>
    <div class="food-card" data-food="kaisen">
      <div class="emoji">ğŸŸ</div>
      <div class="label">æµ·é®®ãƒ»åˆºèº«</div>
    </div>
    <div class="food-card" data-food="steak">
      <div class="emoji">ğŸ¥©</div>
      <div class="label">ã‚¹ãƒ†ãƒ¼ã‚­ãƒ»è‚‰</div>
    </div>
    <div class="food-card" data-food="italian">
      <div class="emoji">ğŸ</div>
      <div class="label">ã‚¤ã‚¿ãƒªã‚¢ãƒ³</div>
    </div>
    <div class="food-card" data-food="spicy">
      <div class="emoji">ğŸŒ¶ï¸</div>
      <div class="label">ã‚¹ãƒ‘ã‚¤ã‚·ãƒ¼æ–™ç†</div>
    </div>
    <div class="food-card" data-food="cheese">
      <div class="emoji">ğŸ§€</div>
      <div class="label">ãƒãƒ¼ã‚ºãƒ»å‰èœ</div>
    </div>
    <div class="food-card" data-food="dessert">
      <div class="emoji">ğŸ°</div>
      <div class="label">ãƒ‡ã‚¶ãƒ¼ãƒˆ</div>
    </div>
    <div class="food-card" data-food="okinawa">
      <div class="emoji">ğŸŒº</div>
      <div class="label">æ²–ç¸„æ–™ç†</div>
    </div>
    <div class="food-card" data-food="izakaya">
      <div class="emoji">ğŸ®</div>
      <div class="label">å±…é…’å±‹ãŠã¤ã¾ã¿</div>
    </div>
  </div>

  <button class="cta-btn" id="food-search-btn" disabled>ãŠã™ã™ã‚ã®æ³¡ç››ã‚’æ¢ã™</button>

  <div class="results-area" id="food-results">
    <div class="empty-state">æ–™ç†ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚’é¸ã‚“ã§ãã ã•ã„</div>
  </div>
</div>

<footer>
  æ³¡ç››ãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‰ï½œãƒãƒƒã‚«ã‚½ãƒ³ 2026 ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—
</footer>

<script>
// ============================================================
// TEST DATA DEFINITION
// ============================================================

const awamoriData = [
  {
    id: 1,
    name: "æ®‹æ³¢ï¼ˆç™½ï¼‰",
    brewery: "æ¯”å˜‰é…’é€ ",
    degree: 25,
    type: "ä¸€èˆ¬é…’",
    taste: {
      richness: 2,
      sweetness: 3,
    },
    quadrant: "light-sweet",
    flavorProfile: "ãƒ•ãƒ«ãƒ¼ãƒ†ã‚£ãƒ¼ã§é€æ˜æ„Ÿã®ã‚ã‚‹å‘³ã‚ã„ã€‚æ³¡ç››åˆå¿ƒè€…ã«æœ€é©",
    pairings: ["itamemono", "agemono", "okinawa", "izakaya"],
    pairingDescription: "ã‚´ãƒ¼ãƒ¤ãƒ¼ãƒãƒ£ãƒ³ãƒ—ãƒ«ãƒ¼ã‚„ã‚‚ãšãå¤©ã·ã‚‰ãªã©ã€ã•ã£ã±ã‚Šã—ãŸæ²–ç¸„æ–™ç†ã¨å¥½ç›¸æ€§",
    recommendedDrink: "ç‚­é…¸å‰²ã‚Šãƒ»ã‚·ãƒ¼ã‚¯ãƒ®ãƒ¼ã‚µãƒ¼å‰²ã‚Š",
    similarDrinks: ["beer", "chuhai", "cocktail"],
  },
  {
    id: 2,
    name: "æ®‹æ³¢ï¼ˆé»’ï¼‰",
    brewery: "æ¯”å˜‰é…’é€ ",
    degree: 30,
    type: "ä¸€èˆ¬é…’",
    taste: { richness: 4, sweetness: 2 },
    quadrant: "rich-dry",
    flavorProfile: "åŠ›å¼·ã„ã‚³ã‚¯ã¨ã‚­ãƒ¬ã®è‰¯ã•ã€‚ä¼çµ±çš„ãªæ³¡ç››ã®å‘³ã‚ã„",
    pairings: ["nikomi", "steak", "okinawa", "nabe"],
    pairingDescription: "ãƒ©ãƒ•ãƒ†ãƒ¼ã‚„ã‚½ãƒ¼ã‚­ãªã©ã®è±šè‚‰ç…®è¾¼ã¿æ–™ç†ã¨æŠœç¾¤ã®ç›¸æ€§",
    recommendedDrink: "ãƒ­ãƒƒã‚¯ãƒ»æ°´å‰²ã‚Š",
    similarDrinks: ["shochu", "whisky"],
  },
  {
    id: 3,
    name: "èŠä¹‹éœ²ãƒ–ãƒ©ã‚¦ãƒ³",
    brewery: "èŠä¹‹éœ²é…’é€ ",
    degree: 30,
    type: "ä¸€èˆ¬é…’",
    taste: { richness: 3, sweetness: 3 },
    quadrant: "rich-sweet",
    flavorProfile: "ç‹¬ç‰¹ã®é¢¨å‘³ã¨ç”˜ã¿ã®ãƒãƒ©ãƒ³ã‚¹ã€‚ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ãªå®šç•ªéŠ˜æŸ„",
    pairings: ["nikomi", "okinawa", "izakaya", "nabe"],
    pairingDescription: "æ²–ç¸„æ–™ç†å…¨èˆ¬ã«åˆã†ä¸‡èƒ½ãªä¸€æœ¬ã€‚è¶³ã¦ã³ã¡ã‚„ã‚½ãƒ¼ã‚­ã¨ç‰¹ã«å¥½ç›¸æ€§",
    recommendedDrink: "æ°´å‰²ã‚Šãƒ»ãŠæ¹¯å‰²ã‚Š",
    similarDrinks: ["sake", "shochu"],
  },
  {
    id: 4,
    name: "ç‘æ³‰",
    brewery: "ç‘æ³‰é…’é€ ",
    degree: 30,
    type: "ä¸€èˆ¬é…’",
    taste: { richness: 3, sweetness: 2 },
    quadrant: "light-dry",
    flavorProfile: "é¦–é‡Œã®ä¼çµ±ã‚’å—ã‘ç¶™ãã‚­ãƒ¬ã®ã‚ã‚‹å‘³ã‚ã„ã€‚é£Ÿä¸­é…’ã«æœ€é©",
    pairings: ["kaisen", "izakaya", "okinawa", "itamemono"],
    pairingDescription: "æµ·ã¶ã©ã†ã‚„ã‚‚ãšãé…¢ã€åˆºèº«ãªã©æµ·é®®ç³»ã¨ã®ç›¸æ€§ãŒæŠœç¾¤",
    recommendedDrink: "æ°´å‰²ã‚Šãƒ»ã‚·ãƒ¼ã‚¯ãƒ®ãƒ¼ã‚µãƒ¼å‰²ã‚Š",
    similarDrinks: ["sake", "beer"],
  },
  {
    id: 5,
    name: "ä¹…ç±³å³¶ã®ä¹…ç±³ä»™",
    brewery: "ä¹…ç±³å³¶ã®ä¹…ç±³ä»™",
    degree: 30,
    type: "ä¸€èˆ¬é…’",
    taste: { richness: 2, sweetness: 3 },
    quadrant: "light-sweet",
    flavorProfile: "æŸ”ã‚‰ã‹ãªå£å½“ãŸã‚Šã¨æ¹§æ°´ç”±æ¥ã®æ¸…æ¶¼æ„Ÿ",
    pairings: ["kaisen", "itamemono", "izakaya", "cheese"],
    pairingDescription: "åˆºèº«ã‚„ã‚½ãƒ¼ãƒ¡ãƒ³ãƒãƒ£ãƒ³ãƒ—ãƒ«ãƒ¼ãªã©ã€ã‚ã£ã•ã‚Šç³»ã®æ–™ç†ã«åˆã†",
    recommendedDrink: "æ°´å‰²ã‚Šãƒ»ç‚­é…¸å‰²ã‚Š",
    similarDrinks: ["sake", "wine", "beer"],
  },
  {
    id: 6,
    name: "æš–æµ",
    brewery: "ç¥æ‘é…’é€ ",
    degree: 30,
    type: "æ¨½è²¯è”µ",
    taste: { richness: 4, sweetness: 4 },
    quadrant: "rich-sweet",
    flavorProfile: "ã‚ªãƒ¼ã‚¯æ¨½ç”±æ¥ã®ãƒãƒ‹ãƒ©é¦™ã¨ç¥ç€è‰²ã€‚ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼ã®ã‚ˆã†ãªé¢¨æ ¼",
    pairings: ["steak", "cheese", "italian", "dessert"],
    pairingDescription: "ã‚¹ãƒ†ãƒ¼ã‚­ã€ç‡»è£½æ–™ç†ã€ãƒ­ãƒ¼ã‚¹ãƒˆãƒ“ãƒ¼ãƒ•ã¨æœ€é«˜ã®çµ„ã¿åˆã‚ã›ã€‚æš–ãƒœãƒ¼ãƒ«ï¼ˆãƒã‚¤ãƒœãƒ¼ãƒ«ï¼‰ãŒäººæ°—",
    recommendedDrink: "ç‚­é…¸å‰²ã‚Šï¼ˆæš–ãƒœãƒ¼ãƒ«ï¼‰ãƒ»ãƒ­ãƒƒã‚¯",
    similarDrinks: ["whisky", "highball"],
  },
  {
    id: 7,
    name: "èŠä¹‹éœ²VIPã‚´ãƒ¼ãƒ«ãƒ‰",
    brewery: "èŠä¹‹éœ²é…’é€ ",
    degree: 30,
    type: "å¤é…’",
    taste: { richness: 4, sweetness: 4 },
    quadrant: "rich-sweet",
    flavorProfile: "æ´—ç·´ã•ã‚ŒãŸç”˜ã¿ã¨ãƒ—ãƒ¬ãƒŸã‚¢ãƒ æ„Ÿã€‚é•·æœŸç†Ÿæˆã®æ·±ã„å‘³ã‚ã„",
    pairings: ["nikomi", "nabe", "cheese", "dessert"],
    pairingDescription: "ãƒ©ãƒ•ãƒ†ãƒ¼ãªã©æ¿ƒåšãªç…®è¾¼ã¿æ–™ç†ã¨å¤é…’ã®ç†Ÿæˆé¦™ãŒåŒèª¿ã™ã‚‹",
    recommendedDrink: "ãƒ­ãƒƒã‚¯ãƒ»ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆ",
    similarDrinks: ["whisky", "wine"],
  },
  {
    id: 8,
    name: "æ¾è—¤ï¼ˆè’æ¿¾éï¼‰",
    brewery: "å´å±±é…’é€ å» ",
    degree: 30,
    type: "ä¸€èˆ¬é…’",
    taste: { richness: 5, sweetness: 2 },
    quadrant: "rich-dry",
    flavorProfile: "è€éº¹ç”±æ¥ã®æ·±ã„ã‚³ã‚¯ã¨ã¾ã‚ã‚„ã‹ã•ã€‚è’æ¿¾éã®ãƒ‘ãƒ³ãƒã‚ã‚‹å‘³ã‚ã„",
    pairings: ["italian", "spicy", "steak", "okinawa"],
    pairingDescription: "ã‚°ãƒ©ã‚¿ãƒ³ã‚„ã‚ªã‚¤ãƒ«ç³»æ–™ç†ã€ã‚¹ãƒ‘ã‚¤ã‚·ãƒ¼ãªæ–™ç†ã®ã‚ªã‚¤ãƒ«ã®é‡ã•ã‚’æµã™",
    recommendedDrink: "ãƒ­ãƒƒã‚¯ãƒ»æ°´å‰²ã‚Š",
    similarDrinks: ["shochu", "whisky"],
  },
  {
    id: 9,
    name: "æµ·äºº",
    brewery: "ã¾ã•ã²ã‚é…’é€ ",
    degree: 30,
    type: "ä¸€èˆ¬é…’",
    taste: { richness: 2, sweetness: 2 },
    quadrant: "light-dry",
    flavorProfile: "ã‚¹ãƒƒã‚­ãƒªã¨ã—ãŸå¾Œå‘³ã¨è¯ã‚„ã‹ãªé¦™ã‚Š",
    pairings: ["kaisen", "agemono", "izakaya", "itamemono"],
    pairingDescription: "ã‚°ãƒ«ã‚¯ãƒ³å”æšã’ã‚„æµ·é®®æ–™ç†ã¨ã‚¹ãƒƒã‚­ãƒªæ¥½ã—ã‚ã‚‹",
    recommendedDrink: "ç‚­é…¸å‰²ã‚Šãƒ»æ°´å‰²ã‚Š",
    similarDrinks: ["beer", "highball", "chuhai"],
  },
  {
    id: 10,
    name: "ç‰çƒç‹æœ",
    brewery: "å¤šè‰¯å·",
    degree: 30,
    type: "å¤é…’",
    taste: { richness: 3, sweetness: 4 },
    quadrant: "rich-sweet",
    flavorProfile: "ãƒãƒ©ãƒ³ã‚¹ã®å–ã‚ŒãŸé¦™ã‚Šã¨ã‚³ã‚¯ã€‚å¤é…’ãªã‚‰ã§ã¯ã®ã¾ã‚ã‚„ã‹ã•",
    pairings: ["nikomi", "okinawa", "nabe", "cheese"],
    pairingDescription: "ã‚ããƒ¼è±šã®ã—ã‚ƒã¶ã—ã‚ƒã¶ã‚„æ²–ç¸„ã®ä¼çµ±æ–™ç†ã¨ã®èª¿å’Œ",
    recommendedDrink: "ãƒ­ãƒƒã‚¯ãƒ»æ°´å‰²ã‚Š",
    similarDrinks: ["sake", "wine", "whisky"],
  },
  {
    id: 11,
    name: "èŠ³é†‡æµªæ¼« å®ˆç¦®",
    brewery: "ç¥è°·é…’é€ æ‰€",
    degree: 35,
    type: "ä¸€èˆ¬é…’",
    taste: { richness: 5, sweetness: 3 },
    quadrant: "rich-dry",
    flavorProfile: "é¸ã³æŠœã‹ã‚ŒãŸé…µæ¯ã«ã‚ˆã‚‹è±Šã‹ãªé¦™ã‚Šã€‚å‘³ã®ã—ã£ã‹ã‚Šã—ãŸæ–™ç†ã¨èª¿å’Œ",
    pairings: ["nikomi", "okinawa", "steak", "nabe"],
    pairingDescription: "ãƒ©ãƒ•ãƒ†ãƒ¼ã‚„è¶³ã¦ã³ã¡ç­‰ã®ç…®ç‰©æ–™ç†ã«æœ€é©ã€‚è±Šã‹ãªé¦™ã‚ŠãŒæ–™ç†ã‚’å¼•ãç«‹ã¦ã‚‹",
    recommendedDrink: "ãƒ­ãƒƒã‚¯",
    similarDrinks: ["shochu", "whisky"],
  },
  {
    id: 12,
    name: "ä¼Šæ˜¯åå³¶ 5å¹´å¤é…’",
    brewery: "ä¼Šæ˜¯åé…’é€ æ‰€",
    degree: 30,
    type: "å¤é…’",
    taste: { richness: 3, sweetness: 4 },
    quadrant: "rich-sweet",
    flavorProfile: "ç†Ÿæˆã•ã‚ŒãŸã¾ã‚ã‚„ã‹ãªã®ã©è¶Šã—ã€‚æ·±ã¿ã®ã‚ã‚‹å‘³ã‚ã„",
    pairings: ["kaisen", "okinawa", "izakaya", "cheese"],
    pairingDescription: "æ¸©ã‹ã„å‡ºæ±ã§é£Ÿã¹ã‚‹ã¤ã‘ã‚‚ãšããªã©ã€ç¹Šç´°ãªå‘³ä»˜ã‘ã®æ–™ç†ã¨éŸ¿ãåˆã†",
    recommendedDrink: "æ°´å‰²ã‚Šãƒ»ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆ",
    similarDrinks: ["sake", "wine"],
  },
  {
    id: 13,
    name: "ã¾ã•ã²ã‚ã‚ªã‚­ãƒŠãƒ¯ã‚¸ãƒ³",
    brewery: "ã¾ã•ã²ã‚é…’é€ ",
    degree: 47,
    type: "ã‚¸ãƒ³ï¼ˆæ³¡ç››ãƒ™ãƒ¼ã‚¹ï¼‰",
    taste: { richness: 3, sweetness: 1 },
    quadrant: "light-dry",
    flavorProfile: "æ³¡ç››ãƒ™ãƒ¼ã‚¹ã®ã‚¯ãƒ©ãƒ•ãƒˆã‚¸ãƒ³ã€‚ãƒœã‚¿ãƒ‹ã‚«ãƒ«ã®çˆ½å¿«ãªé¦™ã‚Š",
    pairings: ["spicy", "italian", "cheese", "kaisen"],
    pairingDescription: "ã‚¹ãƒ‘ã‚¤ã‚¹ã‚«ãƒ¬ãƒ¼ã‚„ã‚¿ã‚³ã‚¹ãªã©ã‚¹ãƒ‘ã‚¤ã‚·ãƒ¼æ–™ç†ã¨ã€Œç‰çƒãƒ¡ã‚­ã‚·ã‚«ãƒ³ã€ã®èåˆ",
    recommendedDrink: "ã‚¸ãƒ³ãƒˆãƒ‹ãƒƒã‚¯ãƒ»ç‚­é…¸å‰²ã‚Š",
    similarDrinks: ["cocktail", "highball", "beer"],
  },
  {
    id: 14,
    name: "ãã‚‰",
    brewery: "ãƒ˜ãƒªã‚ªã‚¹é…’é€ ",
    degree: 25,
    type: "æ¨½è²¯è”µ",
    taste: { richness: 3, sweetness: 4 },
    quadrant: "light-sweet",
    flavorProfile: "æ¨«æ¨½ç†Ÿæˆã®ç¥ç€è‰²ã€‚ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼ã®ã‚ˆã†ãªãƒãƒ‹ãƒ©é¦™ã ãŒé£²ã¿ã‚„ã™ã„",
    pairings: ["steak", "dessert", "cheese", "italian"],
    pairingDescription: "ã‚°ãƒªãƒ«æ–™ç†ã‚„ãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆãƒ‡ã‚¶ãƒ¼ãƒˆã¨ç›¸æ€§æŠœç¾¤ã€‚ãã‚‰ãƒã‚¤ãƒœãƒ¼ãƒ«ãŒåˆå¿ƒè€…ã«äººæ°—",
    recommendedDrink: "ç‚­é…¸å‰²ã‚Šï¼ˆãã‚‰ãƒã‚¤ãƒœãƒ¼ãƒ«ï¼‰ãƒ»ãƒ­ãƒƒã‚¯",
    similarDrinks: ["whisky", "highball", "cocktail"],
  },
  {
    id: 15,
    name: "OKINAWA ISLAND BLUE",
    brewery: "ä¹…ç±³ä»™é…’é€ ",
    degree: 43,
    type: "å¤é…’",
    taste: { richness: 4, sweetness: 3 },
    quadrant: "rich-dry",
    flavorProfile: "ã‚«ã‚¯ãƒ†ãƒ«ãƒ™ãƒ¼ã‚¹ã¨ã—ã¦æœ€é©ã€‚ã‚¯ãƒ©ã‚·ãƒƒã‚¯ã‚«ã‚¯ãƒ†ãƒ«ã®ã‚¢ãƒ¬ãƒ³ã‚¸ã«",
    pairings: ["cheese", "dessert", "steak", "italian"],
    pairingDescription: "ã‚´ãƒƒãƒ‰ãƒ•ã‚¡ãƒ¼ã‚¶ãƒ¼é¢¨ã‚«ã‚¯ãƒ†ãƒ«ã§ãƒ‡ã‚¶ãƒ¼ãƒˆã¨ã€‚ã‚ªãƒ¼ãƒ«ãƒ‰ãƒ•ã‚¡ãƒƒã‚·ãƒ§ãƒ³ãƒ‰ã§ã‚¹ãƒ†ãƒ¼ã‚­ã¨",
    recommendedDrink: "ã‚«ã‚¯ãƒ†ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ»ãƒ­ãƒƒã‚¯",
    similarDrinks: ["whisky", "cocktail"],
  },
];

// Food category definitions
const foodCategories = {
  nikomi: { name: "ç…®è¾¼ã¿æ–™ç†", examples: "ãƒ©ãƒ•ãƒ†ãƒ¼ã€è¶³ã¦ã³ã¡ã€ã‚½ãƒ¼ã‚­" },
  agemono: { name: "æšã’ç‰©", examples: "ã‚‚ãšãå¤©ã·ã‚‰ã€ã‚°ãƒ«ã‚¯ãƒ³å”æšã’" },
  itamemono: { name: "ç‚’ã‚ç‰©", examples: "ã‚´ãƒ¼ãƒ¤ãƒ¼ãƒãƒ£ãƒ³ãƒ—ãƒ«ãƒ¼ã€ã‚½ãƒ¼ãƒ¡ãƒ³ãƒãƒ£ãƒ³ãƒ—ãƒ«ãƒ¼" },
  nabe: { name: "é‹æ–™ç†", examples: "ã‚ããƒ¼è±šã—ã‚ƒã¶ã—ã‚ƒã¶" },
  kaisen: { name: "æµ·é®®ãƒ»åˆºèº«", examples: "æµ·ã¶ã©ã†ã€ã‚‚ãšãé…¢ã€åˆºèº«" },
  steak: { name: "ã‚¹ãƒ†ãƒ¼ã‚­ãƒ»è‚‰", examples: "ã‚¹ãƒ†ãƒ¼ã‚­ã€ãƒ­ãƒ¼ã‚¹ãƒˆãƒ“ãƒ¼ãƒ•ã€ç‡»è£½" },
  italian: { name: "ã‚¤ã‚¿ãƒªã‚¢ãƒ³", examples: "ãƒ‘ã‚¹ã‚¿ã€ãƒ”ã‚¶ã€ãƒãƒªãƒ" },
  spicy: { name: "ã‚¹ãƒ‘ã‚¤ã‚·ãƒ¼æ–™ç†", examples: "ã‚«ãƒ¬ãƒ¼ã€ã‚¿ã‚³ã‚¹ã€ãƒ¡ã‚­ã‚·ã‚«ãƒ³" },
  cheese: { name: "ãƒãƒ¼ã‚ºãƒ»å‰èœ", examples: "ãƒãƒ¼ã‚ºã€ç”Ÿãƒãƒ ã€å‰èœç››ã‚Šåˆã‚ã›" },
  dessert: { name: "ãƒ‡ã‚¶ãƒ¼ãƒˆ", examples: "ãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆã€ãƒŠãƒƒãƒ„ã€ãƒ‰ãƒ©ã‚¤ãƒ•ãƒ«ãƒ¼ãƒ„" },
  okinawa: { name: "æ²–ç¸„æ–™ç†", examples: "ãƒ©ãƒ•ãƒ†ãƒ¼ã€ãƒãƒ£ãƒ³ãƒ—ãƒ«ãƒ¼ã€å³¶è±†è…" },
  izakaya: { name: "å±…é…’å±‹ãŠã¤ã¾ã¿", examples: "å³¶ã‚‰ã£ãã‚‡ã†ã€ã‚‚ãšãã€æµ·ã¶ã©ã†" },
};

// Drink mapping for recommendations
const drinkMapping = {
  beer: "ãƒ“ãƒ¼ãƒ«ãŒå¥½ããªæ–¹ã«ã¯ã€ã‚¹ãƒƒã‚­ãƒªè»½ã‚„ã‹ãªæ³¡ç››ãŒãŠã™ã™ã‚",
  sake: "æ—¥æœ¬é…’ãŒå¥½ããªæ–¹ã«ã¯ã€ã¾ã‚ã‚„ã‹ã§é£Ÿä¸­é…’å‘ãã®æ³¡ç››ã‚’",
  shochu: "ç„¼é…å¥½ãã®æ–¹ãªã‚‰ã€æœ¬æ ¼æ´¾ã®æ³¡ç››ã‚’ãã®ã¾ã¾æ¥½ã—ã‚ã¾ã™",
  wine: "ãƒ¯ã‚¤ãƒ³å¥½ãã®æ–¹ã«ã¯ã€ç†Ÿæˆå¤é…’ã®è¤‡é›‘ãªå‘³ã‚ã„ãŒãŠã™ã™ã‚",
  whisky: "ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼å¥½ãã®æ–¹ã«ã¯ã€æ¨½è²¯è”µã®æ³¡ç››ãŒã´ã£ãŸã‚Š",
  cocktail: "ã‚«ã‚¯ãƒ†ãƒ«å¥½ãã®æ–¹ã«ã¯ã€æ³¡ç››ãƒ™ãƒ¼ã‚¹ã®ã‚¢ãƒ¬ãƒ³ã‚¸ã‚«ã‚¯ãƒ†ãƒ«ã‚’",
  highball: "ãƒã‚¤ãƒœãƒ¼ãƒ«å¥½ãã®æ–¹ã«ã¯ã€æš–ãƒœãƒ¼ãƒ«ã‚„ãã‚‰ãƒã‚¤ãƒœãƒ¼ãƒ«ã‚’",
  chuhai: "é…ãƒã‚¤å¥½ãã®æ–¹ã«ã¯ã€ç‚­é…¸å‰²ã‚Šã‚„ã‚·ãƒ¼ã‚¯ãƒ®ãƒ¼ã‚µãƒ¼å‰²ã‚Šã‚’",
};

// ============================================================
// APP LOGIC
// ============================================================

let selectedQuadrant = null;
let selectedDrinks = new Set();
let selectedFoods = new Set();

// Tab switching
document.querySelectorAll('.tab-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
    btn.classList.add('active');
    document.getElementById('tab-' + btn.dataset.tab).classList.add('active');
  });
});

// Quadrant selection
document.querySelectorAll('.taste-quadrant').forEach(q => {
  q.addEventListener('click', () => {
    document.querySelectorAll('.taste-quadrant').forEach(el => el.classList.remove('selected'));
    q.classList.add('selected');
    selectedQuadrant = q.dataset.quadrant;
    document.getElementById('taste-search-btn').disabled = false;
  });
});

// Drink chip selection
document.querySelectorAll('.drink-chip').forEach(chip => {
  chip.addEventListener('click', () => {
    chip.classList.toggle('selected');
    const drink = chip.dataset.drink;
    if (selectedDrinks.has(drink)) {
      selectedDrinks.delete(drink);
    } else {
      selectedDrinks.add(drink);
    }
  });
});

// Food card selection
document.querySelectorAll('.food-card').forEach(card => {
  card.addEventListener('click', () => {
    card.classList.toggle('selected');
    const food = card.dataset.food;
    if (selectedFoods.has(food)) {
      selectedFoods.delete(food);
    } else {
      selectedFoods.add(food);
    }
    document.getElementById('food-search-btn').disabled = selectedFoods.size === 0;
  });
});

// Taste-based search
document.getElementById('taste-search-btn').addEventListener('click', () => {
  if (!selectedQuadrant) return;

  // Primary: match quadrant
  let results = awamoriData.filter(a => a.quadrant === selectedQuadrant);

  // Score by drink similarity
  if (selectedDrinks.size > 0) {
    results = results.map(a => {
      const drinkScore = a.similarDrinks.filter(d => selectedDrinks.has(d)).length;
      return { ...a, score: drinkScore };
    }).sort((a, b) => b.score - a.score);
  }

  // If no results in exact quadrant, widen
  if (results.length === 0) {
    results = awamoriData.slice().sort((a, b) => {
      const aMatch = a.similarDrinks.filter(d => selectedDrinks.has(d)).length;
      const bMatch = b.similarDrinks.filter(d => selectedDrinks.has(d)).length;
      return bMatch - aMatch;
    }).slice(0, 3);
  }

  renderTasteResults(results);
});

// Food-based search
document.getElementById('food-search-btn').addEventListener('click', () => {
  if (selectedFoods.size === 0) return;

  const foodArr = [...selectedFoods];
  let scored = awamoriData.map(a => {
    const matchCount = a.pairings.filter(p => foodArr.includes(p)).length;
    return { ...a, score: matchCount };
  }).filter(a => a.score > 0).sort((a, b) => b.score - a.score);

  if (scored.length === 0) {
    scored = awamoriData.slice(0, 3).map(a => ({ ...a, score: 0 }));
  }

  renderFoodResults(scored);
});

// ============================================================
// RENDERING
// ============================================================

function renderTasteResults(results) {
  const container = document.getElementById('taste-results');
  if (results.length === 0) {
    container.innerHTML = '<div class="empty-state">æ¡ä»¶ã«åˆã†æ³¡ç››ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ</div>';
    return;
  }

  let drinkTip = '';
  if (selectedDrinks.size > 0) {
    const firstDrink = [...selectedDrinks][0];
    drinkTip = `<div style="background:var(--accent-light);padding:0.8rem 1rem;border-radius:8px;margin-bottom:1rem;font-size:0.88rem;">ğŸ’¡ ${drinkMapping[firstDrink]}</div>`;
  }

  container.innerHTML = drinkTip + results.map(a => `
    <div class="result-card">
      <h3>${a.name}</h3>
      <div class="brewery">${a.brewery}</div>
      <div class="tags">
        <span class="tag tag-degree">${a.degree}åº¦</span>
        <span class="tag tag-type">${a.type}</span>
      </div>
      <div class="description">${a.flavorProfile}</div>
      <div class="pairing">
        <div class="pairing-label">ãŠã™ã™ã‚ã®æ–™ç†</div>
        ${a.pairingDescription}
      </div>
      <div class="how-to-drink">
        <strong>é£²ã¿æ–¹ï¼š</strong>${a.recommendedDrink}
      </div>
    </div>
  `).join('');
}

function renderFoodResults(results) {
  const container = document.getElementById('food-results');
  const selectedFoodNames = [...selectedFoods].map(f => foodCategories[f]?.name).filter(Boolean).join('ã€');

  if (results.length === 0) {
    container.innerHTML = '<div class="empty-state">æ¡ä»¶ã«åˆã†æ³¡ç››ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ</div>';
    return;
  }

  const header = `<div style="background:var(--accent-light);padding:0.8rem 1rem;border-radius:8px;margin-bottom:1rem;font-size:0.88rem;">ğŸ½ï¸ ã€Œ${selectedFoodNames}ã€ã«åˆã†æ³¡ç››</div>`;

  container.innerHTML = header + results.map(a => {
    const matchedFoods = a.pairings
      .filter(p => selectedFoods.has(p))
      .map(p => foodCategories[p]?.name)
      .filter(Boolean);
    const matchLabel = matchedFoods.length > 0
      ? `<span class="tag tag-taste">${matchedFoods.join('ãƒ»')}ã«åˆã†</span>`
      : '';

    return `
      <div class="result-card">
        <h3>${a.name}</h3>
        <div class="brewery">${a.brewery}</div>
        <div class="tags">
          <span class="tag tag-degree">${a.degree}åº¦</span>
          <span class="tag tag-type">${a.type}</span>
          ${matchLabel}
        </div>
        <div class="description">${a.flavorProfile}</div>
        <div class="pairing">
          <div class="pairing-label">ãƒšã‚¢ãƒªãƒ³ã‚°ã®ãƒã‚¤ãƒ³ãƒˆ</div>
          ${a.pairingDescription}
        </div>
        <div class="how-to-drink">
          <strong>é£²ã¿æ–¹ï¼š</strong>${a.recommendedDrink}
        </div>
      </div>
    `;
  }).join('');
}
</script>
</body>
</html>
<!-- ===== Tab 1: å¥½ã¿ã§æ¢ã™ ===== -->
<div id="tab-taste" class="tab-content active">
  <h2 class="section-title">å‘³ã‚ã„ã®å¥½ã¿ã‚’é¸ã‚“ã§ãã ã•ã„</h2>
  <div class="taste-map-container">
    <svg class="taste-map-svg" viewBox="0 0 400 400">
      <!-- Background quadrants -->
      <rect class="taste-quadrant" data-quadrant="light-dry" x="5" y="5" width="193" height="193" rx="12" fill="#e0f2fe" />
      <rect class="taste-quadrant" data-quadrant="light-sweet" x="202" y="5" width="193" height="193" rx="12" fill="#fef3c7" />
      <rect class="taste-quadrant" data-quadrant="rich-dry" x="5" y="202" width="193" height="193" rx="12" fill="#ecfdf5" />
      <rect class="taste-quadrant" data-quadrant="rich-sweet" x="202" y="202" width="193" height="193" rx="12" fill="#fce7f3" />

      <!-- Axis labels -->
      <text class="taste-axis-label" x="200" y="20" text-anchor="middle">è»½ã‚„ã‹</text>
      <text class="taste-axis-label" x="200" y="395" text-anchor="middle">æ¿ƒåšãƒ»ã‚³ã‚¯ã‚ã‚Š</text>
      <text class="taste-axis-label" x="12" y="205" text-anchor="start" transform="rotate(-90, 12, 205)">è¾›å£ãƒ»ã‚­ãƒ¬</text>
      <text class="taste-axis-label" x="392" y="200" text-anchor="end" transform="rotate(90, 392, 200)">ç”˜å£ãƒ»ã¾ã‚ã‚„ã‹</text>

      <!-- Quadrant labels -->
      <text class="taste-quadrant-label" x="100" y="95" fill="#1a56db">è»½ã‚„ã‹Ã—ã‚­ãƒ¬</text>
      <text class="taste-quadrant-label" x="100" y="115" fill="#1a56db" font-size="11">ã‚¹ãƒƒã‚­ãƒªçˆ½å¿«ç³»</text>
      <text class="taste-quadrant-label" x="300" y="95" fill="#92400e">è»½ã‚„ã‹Ã—ç”˜å£</text>
      <text class="taste-quadrant-label" x="300" y="115" fill="#92400e" font-size="11">ãƒ•ãƒ«ãƒ¼ãƒ†ã‚£ãƒ¼ç³»</text>
      <text class="taste-quadrant-label" x="100" y="295" fill="#065f46">æ¿ƒåšÃ—ã‚­ãƒ¬</text>
      <text class="taste-quadrant-label" x="100" y="315" fill="#065f46" font-size="11">åŠ›å¼·ã„ä¼çµ±æ´¾</text>
      <text class="taste-quadrant-label" x="300" y="295" fill="#9d174d">æ¿ƒåšÃ—ç”˜å£</text>
      <text class="taste-quadrant-label" x="300" y="315" fill="#9d174d" font-size="11">ç†Ÿæˆãƒ»å¤é…’ç³»</text>
    </svg>
  </div>

  <h2 class="section-title">æ™®æ®µé£²ã‚€ãŠé…’ï¼ˆä»»æ„ï¼‰</h2>
  <div class="drink-selector" id="drink-selector">
    <div class="drink-chip" data-drink="beer">ãƒ“ãƒ¼ãƒ«</div>
    <div class="drink-chip" data-drink="sake">æ—¥æœ¬é…’</div>
    <div class="drink-chip" data-drink="shochu">ç„¼é…</div>
    <div class="drink-chip" data-drink="wine">ãƒ¯ã‚¤ãƒ³</div>
    <div class="drink-chip" data-drink="whisky">ã‚¦ã‚¤ã‚¹ã‚­ãƒ¼</div>
    <div class="drink-chip" data-drink="cocktail">ã‚«ã‚¯ãƒ†ãƒ«</div>
    <div class="drink-chip" data-drink="highball">ãƒã‚¤ãƒœãƒ¼ãƒ«</div>
    <div class="drink-chip" data-drink="chuhai">é…ãƒã‚¤</div>
  </div>

  <button class="cta-btn" id="taste-search-btn" disabled>ãŠã™ã™ã‚ã®æ³¡ç››ã‚’æ¢ã™</button>

  <div class="results-area" id="taste-results">
    <div class="empty-state">å‘³ã‚ã„ãƒãƒƒãƒ—ã‚’ã‚¿ãƒƒãƒ—ã—ã¦å¥½ã¿ã‚’é¸ã‚“ã§ãã ã•ã„</div>
  </div>
</div>
